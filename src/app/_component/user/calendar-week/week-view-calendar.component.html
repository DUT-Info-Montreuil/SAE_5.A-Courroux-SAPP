<div id="calendar-container">
    <div id="cal-buttons">
        <div id="cal-date-nav-buttons" class="flex justify-between">
            <div>
                <button id="previous" mwlCalendarPreviousView [(viewDate)]="viewDate" [view]="view" [excludeDays]="[0, 6]" (click)="loadEvents()"
                class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l ml-10 mt-10 mb-10"
                >Précédent</button>
                    
                <button id="today" mwlCalendarToday [(viewDate)]="viewDate" (click)="loadEvents()"
                class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mt-10 mb-10"
                >Aujourd'hui</button>
                <button id="next" mwlCalendarNextView [(viewDate)]="viewDate" [view]="view" [excludeDays]="[0, 6]" (click)="loadEvents()"
                class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r mr-10 mt-10 mb-10"
                >Prochain</button>
                <button 
                class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded"
                (click)="openModalAdd()"
                >Ajouter</button>
            </div>

            
        </div>
        
    </div>
    <mwl-calendar-week-view
        [viewDate]="viewDate"
        class="week-view" 
        [events]="events"
        [excludeDays]="[0, 6]"
        locale="fr"
        [dayStartHour]="8"
        [dayEndHour]="18"
        [refresh] = "refresh"
        [eventTitleTemplate]="customeWeekViewTemplate"> 
    ></mwl-calendar-week-view>

    <!-- [eventTitleTemplate]="customEWeekViewTemplate">     -->

    <ng-template #customeWeekViewTemplate let-event="event">
        <div class="titre h-full flex flex-col justify-between relative">
          <div class="item-center text-center">
            <!-- Votre contenu principal ici -->
            <div class="flex flex-row">
                <div class="flex-1 text-start">{{getCourseByEventId(event.id)!.name_salle}}</div>
                <div class="flex-1 text-center">
                {{ getRessourcesByInitial(getCourseByEventId(event.id)!.initial_ressource) }}
                </div>
                <div class="flex-1 text-end">{{ getInitialTeacher(event.id) }}</div>
            </div>
          </div>
          
          <!-- Footer dans la ng-template -->
          <div class="flex flex-row items-center justify-center">
            <img src="assets/images/clock.png" alt="Logo" class="w-[18px]" >
            <h2>{{ getTimeString(getCourseByEventId(event.id)!.start_time) }} - {{ getTimeString(getCourseByEventId(event.id)!.end_time) }} </h2>
          </div>
          
        </div>

      </ng-template>
</div>

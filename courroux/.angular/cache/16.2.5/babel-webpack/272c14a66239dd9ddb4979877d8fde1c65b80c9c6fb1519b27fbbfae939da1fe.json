{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CalendarView } from 'angular-calendar';\nimport { adapterFactory } from 'angular-calendar/date-adapters/moment';\nimport * as moment from 'moment';\nimport { Subject } from 'rxjs';\nexport function momentAdapterFactory() {\n  return adapterFactory(moment);\n}\n;\nexport let EdtComponent = class EdtComponent {\n  constructor() {\n    this.eventSelectionne = null;\n    this.showModal = false;\n    this.viewDate = new Date();\n    this.view = CalendarView.Week;\n    this.events = [];\n    this.refresh = new Subject();\n    this.loadEvents();\n  }\n  openModal() {\n    this.showModal = true;\n  }\n  closeModal() {\n    this.showModal = false;\n  }\n  loadEvents() {\n    const event1 = {\n      title: \"Prog avancée\",\n      salle: \"A1-01\",\n      professeur: \"abossard\",\n      start: new Date(\"2023-10-16T10:30\"),\n      end: new Date(\"2023-10-16T12:30\"),\n      draggable: true,\n      resizable: {\n        beforeStart: true,\n        afterEnd: true\n      }\n    };\n    this.events.push(event1);\n  }\n  addEvent() {\n    let start = new Date();\n    start.setHours(8);\n    start.setMinutes(0);\n    start.setSeconds(0);\n    const newEvent = {\n      title: \"nom du cours\",\n      salle: \"salle\",\n      professeur: \"professeur\",\n      start: start,\n      end: new Date(start.getTime() + 2 * 60 * 60 * 1000),\n      draggable: true,\n      resizable: {\n        beforeStart: true,\n        afterEnd: true\n      }\n    };\n    this.events.push(newEvent);\n    this.refresh.next();\n  }\n  eventClicked(event) {\n    this.eventSelectionne = event;\n    this.openModal();\n    console.log(this.eventSelectionne);\n  }\n  buttonClicked() {\n    //var cours = new Cours()\n    //this.events.push(cours);\n  }\n  onSubmit() {}\n  eventTimesChanged(event) {\n    event.event.start = event.newStart;\n    event.event.end = event.newEnd;\n    this.refresh.next();\n  }\n};\nEdtComponent = __decorate([Component({\n  selector: 'app-edt',\n  templateUrl: './edt.component.html',\n  styleUrls: ['./edt.component.scss']\n})], EdtComponent);","map":{"version":3,"names":["Component","CalendarView","adapterFactory","moment","Subject","momentAdapterFactory","EdtComponent","constructor","eventSelectionne","showModal","viewDate","Date","view","Week","events","refresh","loadEvents","openModal","closeModal","event1","title","salle","professeur","start","end","draggable","resizable","beforeStart","afterEnd","push","addEvent","setHours","setMinutes","setSeconds","newEvent","getTime","next","eventClicked","event","console","log","buttonClicked","onSubmit","eventTimesChanged","newStart","newEnd","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\IUT\\S5\\SAE_5.A-Courroux\\courroux\\src\\app\\edt\\edt.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CalendarEvent, CalendarView, DateAdapter } from 'angular-calendar';\r\nimport { adapterFactory } from 'angular-calendar/date-adapters/moment';\r\nimport * as moment from 'moment';\r\nimport { Subject } from 'rxjs';\r\nimport { FormControl, FormBuilder, FormGroup } from '@angular/forms';\r\n\r\nexport function momentAdapterFactory() {\r\n  return adapterFactory(moment);\r\n};\r\n\r\n@Component({\r\n  selector: 'app-edt',\r\n  templateUrl: './edt.component.html',\r\n  styleUrls: ['./edt.component.scss']\r\n})\r\n\r\nexport class EdtComponent {\r\n\r\n  public eventSelectionne: any = null;\r\n\r\n  showModal = false;\r\n\r\n  viewDate: Date = new Date();\r\n  view: CalendarView = CalendarView.Week;\r\n\r\n  events: CalendarEvent[] = [];\r\n\r\n  refresh = new Subject<void>()\r\n\r\n  constructor() {\r\n    this.loadEvents();\r\n  }\r\n\r\n  openModal() {\r\n    this.showModal = true;\r\n  }\r\n  \r\n  closeModal() {\r\n    this.showModal = false;\r\n  }  \r\n\r\n  loadEvents(){\r\n    const event1 = {\r\n      title: \"Prog avancée\",\r\n      salle: \"A1-01\",\r\n      professeur: \"abossard\",\r\n      start: new Date(\"2023-10-16T10:30\"),\r\n      end: new Date(\"2023-10-16T12:30\"),\r\n      draggable: true,\r\n      resizable: {\r\n        beforeStart: true,\r\n        afterEnd: true,\r\n      }\r\n    }\r\n    this.events.push(event1);\r\n  }\r\n\r\n  addEvent() {\r\n    let start = new Date();\r\n    start.setHours(8);\r\n    start.setMinutes(0);\r\n    start.setSeconds(0);\r\n    const newEvent = {\r\n      title: \"nom du cours\",\r\n      salle: \"salle\",\r\n      professeur: \"professeur\",\r\n      start: start,\r\n      end: new Date(start.getTime() + 2 * 60 * 60 * 1000),\r\n      draggable: true,\r\n      resizable: {\r\n        beforeStart: true,\r\n        afterEnd: true,\r\n      }\r\n    };\r\n\r\n    this.events.push(newEvent);\r\n    this.refresh.next();\r\n  }\r\n\r\n  eventClicked(event: any){\r\n    this.eventSelectionne = event;\r\n    this.openModal();\r\n    console.log(this.eventSelectionne);\r\n  }\r\n\r\n  buttonClicked(){\r\n    //var cours = new Cours()\r\n    //this.events.push(cours);\r\n  }\r\n  onSubmit(){\r\n\r\n  }\r\n\r\n  eventTimesChanged(event: any) {\r\n    event.event.start = event.newStart;\r\n    event.event.end = event.newEnd;\r\n    this.refresh.next();\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}